"use strict";(self.webpackChunkbodylon_workshop=self.webpackChunkbodylon_workshop||[]).push([[533],{2533:(e,l,a)=>{a.r(l),a.d(l,{default:()=>V});var r=a(376),s=a(1264),n=a(1535),t=a(184),o=a(423),i=a(9553),d=a(418),c=a(5200),u=a(79),m=a(2639),p=a(1981),v=a(3003),h=a(9379),b=a(3642),x=a(4024),g=a(2021),y=a(7196),f=a(1462),N=a(3892),j=a(5043),w=a(579);const P=e=>{const{name:l,error:a,label:r,onBlur:s,checked:n,onChange:o,mainClass:i,required:d=!1}=e;return(0,w.jsxs)("div",{className:"w-full ".concat(i),children:[(0,w.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,w.jsx)("input",{id:l,name:l,type:"checkbox",onBlur:s,checked:n,required:d,onChange:o,className:"h-4 w-4 cursor-pointer"}),(0,w.jsxs)("label",{htmlFor:"input",className:"font-semibold flex gap-x-1 text-sm",children:[r,d&&(0,w.jsx)(t.Km,{size:8,className:"inline text-red-600 mb-2"})]})]}),a&&(0,w.jsx)("p",{className:"text-red-600 text-xs mt-1",children:a})]})},A=(0,j.memo)(P);var D=a(6720),C=a(3710),q=a(6486),k=a(3533),S=a(4663);const T=e=>{const{getAllVehiclesFunc:l,toggleAddCarModel:a,mode:n,preFillingData:t}=e,i=(0,v.wA)(),[m,p]=(0,j.useState)(!1),[P,T]=(0,j.useState)(0),[E,I]=(0,j.useState)(""),[V,H]=(0,j.useState)([]);(0,j.useEffect)((()=>{(()=>{const e={apiEndpoint:r._3};i((0,s.FX)(e)).then((e=>{var l,a,r;"getAllTechniciansByAdmin/fulfilled"===e.type&&H(null===e||void 0===e||null===(l=e.payload)||void 0===l||null===(a=l.data)||void 0===a||null===(r=a.technicain)||void 0===r?void 0:r.rows)}))})()}),[]);const B=(e,l)=>{const a={apiEndpoint:r.my+"?vinNumber=".concat(e)};i((0,s.gR)(a)).then((a=>{var r,s,n,t,o,i,d,c,u;"getVehicleDetailsByVinNumberByAdmin/fulfilled"===a.type&&(I(e),l("make",null===a||void 0===a||null===(r=a.payload)||void 0===r||null===(s=r.data)||void 0===s||null===(n=s.decodedVIN)||void 0===n?void 0:n.Make),l("model",null===a||void 0===a||null===(t=a.payload)||void 0===t||null===(o=t.data)||void 0===o||null===(i=o.decodedVIN)||void 0===i?void 0:i.Model),l("year",null===a||void 0===a||null===(d=a.payload)||void 0===d||null===(c=d.data)||void 0===c||null===(u=c.decodedVIN)||void 0===u?void 0:u.ModelYear))}))};console.log("loading values",m);const F="add"===n?k.jP:(0,h.A)((0,h.A)({},k.jP),t||{});return(0,w.jsxs)("div",{children:[m&&(0,w.jsx)(q.A,{}),(0,w.jsx)(N.l1,{initialValues:F,validationSchema:S.Fo,onSubmit:e=>(e=>{if("not in shop"!==(null===e||void 0===e?void 0:e.status.toLowerCase())&&""===(null===e||void 0===e?void 0:e.deliveryDate))return b.A.error("Please enter the vehicle delivery date");if("add"===n){const n={apiEndpoint:r.NM,requestData:JSON.stringify(e)};i((0,s._D)(n)).then((e=>{"addNewVehicleByAdmin/fulfilled"===e.type&&(l(),a())}))}else if("edit"===n){const n={apiEndpoint:r.yG,requestData:JSON.stringify(e)};i((0,s.eo)(n)).then((e=>{"updateVehicleByAdmin/fulfilled"===e.type&&(l(),a())}))}})(e),children:e=>{let{values:l,errors:a,touched:n,handleBlur:t,handleSubmit:m,handleChange:v,setFieldValue:h}=e;(e=>{const l=e.reduce(((e,l)=>e+(parseFloat(l.ourPrice)||0)),0);T(l)})(l.carPart);return(0,w.jsxs)(N.lV,{onSubmit:m,children:[(0,w.jsx)("hr",{className:"text-gray-400 w-full mb-2"}),(0,w.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-2",children:[(0,w.jsx)("p",{className:"font-semibold text-blue-600 col-span-1 md:col-span-2 lg:col-span-3 border-b border-blue-600 w-max",children:"Customer Details"}),(0,w.jsx)(u.A,{type:"text",required:!1,name:"firstName",label:"Customer First Name",placeholder:"Enter first name",value:l.firstName,onBlurHandle:t,onChangeHandle:v,className:"w-full mb-0 p-2 border rounded-md",error:a.firstName&&n.firstName?a.firstName:""}),(0,w.jsx)(u.A,{type:"text",required:!0,name:"lastName",value:l.lastName,onBlurHandle:t,label:"Customer Last Name",placeholder:"Enter last name",onChangeHandle:v,className:"w-full mb-0 p-2 border rounded-md",error:a.lastName&&n.lastName?a.lastName:""}),(0,w.jsx)(u.A,{type:"email",name:"email",required:!0,value:l.email,label:"Customer Email",placeholder:"Enter email",onBlurHandle:t,onChangeHandle:v,className:"w-full mb-0 p-2 border rounded-md",error:a.email&&n.email?a.email:""}),(0,w.jsx)(C.A,{name:"poNumber",label:"Customer Phone No",className:"",required:!0,value:l.poNumber,setFieldValue:h,error:a.poNumber&&n.poNumber?a.poNumber:""}),(0,w.jsx)(u.A,{type:"text",required:!1,name:"vehiclePoNumber",onBlurHandle:t,label:"Vehicle PO Number",onChangeHandle:v,value:null===l||void 0===l?void 0:l.vehiclePoNumber,placeholder:"Enter vehicle PO number",className:"w-full mb-0 p-2 border rounded-md",error:a.vehiclePoNumber&&n.vehiclePoNumber?a.vehiclePoNumber:""}),(0,w.jsx)("hr",{className:"text-gray-400 w-full col-span-1 md:col-span-2 lg:col-span-3 mt-4"}),(0,w.jsx)("p",{className:"font-semibold text-blue-600 col-span-1 md:col-span-2 lg:col-span-3 border-b border-blue-600 w-max",children:"Vehicle Details"}),(0,w.jsxs)("span",{children:[(0,w.jsx)("input",{type:"file",id:"file-upload",className:"hidden",onChange:e=>{var l;return((e,l)=>{if(e&&"application/pdf"!==e.type)return b.A.error("Only PDF file can be uploaded!"),void p(!1);p(!0),b.A.success("Please Wait! This prcess may take a while.");const a=new FormData;a.append("avatar",e);const n={apiEndpoint:r.dU,requestData:a};i((0,s.S4)(n)).then((e=>{if("readPdfFileForAutoFilling/fulfilled"===e.type){var a,r,s,n,t,o;console.log(e.payload),null!==e&&void 0!==e&&null!==(a=e.payload)&&void 0!==a&&null!==(r=a.data)&&void 0!==r&&r.vin_number&&B(null===e||void 0===e||null===(t=e.payload)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.vin_number,l);const i=null===e||void 0===e||null===(s=e.payload)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.parts_list,d=null===i||void 0===i?void 0:i.filter((e=>null!==(null===e||void 0===e?void 0:e.price)&&null!==(null===e||void 0===e?void 0:e.quantity)&&null!==(null===e||void 0===e?void 0:e.part_number)));console.log("Filtered Parts Data",d),d.forEach(((e,a)=>{l("carPart.".concat(a),{price:null===e||void 0===e?void 0:e.price,quantity:null===e||void 0===e?void 0:e.quantity,partNumber:null===e||void 0===e?void 0:e.part_number,description:null===e||void 0===e?void 0:e.description,deliveryDate:"",status:"",supplier:""})}))}})).catch((e=>{console.error("Error processing file:",e),b.A.error("Failed to process file. Please try again.")})).finally((()=>{p(!1)}))})(null===e||void 0===e||null===(l=e.target)||void 0===l?void 0:l.files[0],h)}}),(0,w.jsxs)("label",{htmlFor:"file-upload",className:"mt-6 w-full cursor-pointer inline-flex justify-center items-center gap-x-2 px-4 py-3 border border-blue-600 text-blue-600 rounded-sm bg-white hover:bg-blue-100",children:[(0,w.jsx)(D.nEF,{size:20}),(0,w.jsx)("p",{className:"font-semibold",children:"Upload File To Autofill"})]})]}),(0,w.jsx)(u.A,{type:"text",required:!1,value:E,label:"Search by VIN Number",placeholder:"Enter vehicle VIN number",className:"w-full mb-0 p-2 border rounded-md",onChangeHandle:e=>I(e.target.value),error:a.year&&n.year?a.year:""}),(0,w.jsx)(d.A,{type:"button",text:(0,w.jsxs)("span",{className:"flex gap-x-2",children:[(0,w.jsx)(y.uBk,{size:18}),(0,w.jsx)("p",{className:"font-normal",children:"Search"})]}),handleOnClick:()=>{""===E?b.A.error("Please enter VIN number to search"):B(E,h)},className:"font-semibold rounded-sm h-min w-full mt-6 flex justify-center items-center"}),(0,w.jsx)(u.A,{type:"text",name:"year",required:!0,value:l.year,label:"Vehicle Year",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter vehicle year",className:"w-full mb-0 p-2 border rounded-md",error:a.year&&n.year?a.year:""}),(0,w.jsx)(u.A,{type:"text",name:"make",required:!0,value:l.make,label:"Vehicle Make",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter vehicle make",className:"w-full mb-0 p-2 border rounded-md",error:a.make&&n.make?a.make:""}),(0,w.jsx)(u.A,{type:"text",name:"model",required:!0,value:l.model,label:"Vehicle Model",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter vehicle model",className:"w-full mb-0 p-2 border rounded-md",error:a.model&&n.model?a.model:""}),(0,w.jsx)("hr",{className:"text-gray-400 w-full col-span-1 md:col-span-2 lg:col-span-3 mt-4"}),(0,w.jsx)("p",{className:"font-semibold text-blue-600 col-span-1 md:col-span-2 lg:col-span-3 border-b border-blue-600 w-max",children:"Ordered Parts"}),(0,w.jsx)(N.ED,{name:"carPart",children:e=>{let{push:s,remove:i}=e;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.A,{disabled:l.carPart.length>0,text:(0,w.jsxs)("span",{className:"flex gap-x-2 justify-center items-center text-blue-600",children:[(0,w.jsx)(f.ArI,{size:20}),(0,w.jsx)("p",{children:"Add Parts Manaully"})]}),handleOnClick:()=>{s({price:"",notes:"",status:"",quantity:"",ourPrice:"",supplier:"",partNumber:"",description:"",deliveryDate:""})},className:"font-semibold rounded-sm !bg-white text-blue-600 border border-blue-600 hover:!bg-blue-200"}),l.carPart.map(((e,s)=>{var o,d,c,m,p,b,y,f,N,j,P,A,D,C,q,k,S,T,E,I,V,H,B,F,z,O,R,M,Y,_,U,K,$,Z,G,L,Q,X,J,W,ee,le,ae,re,se,ne,te;return(0,w.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 grid md:gird-cols-2 lg:grid-cols-3 border border-blue-300 shadow-md rounded-sm gap-4 p-4 py-6 relative my-2",children:[(0,w.jsx)(g.j55,{size:28,onClick:()=>i(s),className:"hover:bg-stone-200 hover:text-red-600 rounded-md text-gray-600 p-1 absolute top-1 right-1 cursor-pointer"}),(0,w.jsx)(u.A,{type:"text",required:!1,label:"Supplier",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter supplier",name:"carPart.".concat(s,".supplier"),value:l.carPart[s].supplier,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(o=a.carPart)&&void 0!==o&&null!==(d=o[s])&&void 0!==d&&d.supplier&&null!==(c=n.carPart)&&void 0!==c&&null!==(m=c[s])&&void 0!==m&&m.supplier?null===(p=a.carPart[s])||void 0===p?void 0:p.supplier:""}),(0,w.jsx)(u.A,{type:"text",required:!0,label:"Part Number",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter part number",name:"carPart.".concat(s,".partNumber"),value:l.carPart[s].partNumber,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(b=a.carPart)&&void 0!==b&&null!==(y=b[s])&&void 0!==y&&y.partNumber&&null!==(f=n.carPart)&&void 0!==f&&null!==(N=f[s])&&void 0!==N&&N.partNumber?null===(j=a.carPart[s])||void 0===j?void 0:j.partNumber:""}),(0,w.jsx)(u.A,{type:"text",required:!0,label:"Description",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter description",name:"carPart.".concat(s,".description"),value:l.carPart[s].description,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(P=a.carPart)&&void 0!==P&&null!==(A=P[s])&&void 0!==A&&A.description&&null!==(D=n.carPart)&&void 0!==D&&null!==(C=D[s])&&void 0!==C&&C.description?null===(q=a.carPart[s])||void 0===q?void 0:q.description:""}),(0,w.jsx)(u.A,{type:"number",required:!0,label:"Quantity",onBlurHandle:t,placeholder:"Enter quantity",onChangeHandle:v,name:"carPart.".concat(s,".quantity"),value:l.carPart[s].quantity,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(k=a.carPart)&&void 0!==k&&null!==(S=k[s])&&void 0!==S&&S.quantity&&null!==(T=n.carPart)&&void 0!==T&&null!==(E=T[s])&&void 0!==E&&E.quantity?null===(I=a.carPart[s])||void 0===I?void 0:I.quantity:""}),(0,w.jsx)(u.A,{type:"text",label:"Price",required:!1,onBlurHandle:t,placeholder:"Enter price",onChangeHandle:v,name:"carPart.".concat(s,".price"),value:l.carPart[s].price,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(V=a.carPart)&&void 0!==V&&null!==(H=V[s])&&void 0!==H&&H.price&&null!==(B=n.carPart)&&void 0!==B&&null!==(F=B[s])&&void 0!==F&&F.price?null===(z=a.carPart[s])||void 0===z?void 0:z.price:""}),(0,w.jsx)(u.A,{type:"text",required:!1,label:"Our Price",onBlurHandle:t,placeholder:"Enter our price",onChangeHandle:v,name:"carPart.".concat(s,".ourPrice"),value:l.carPart[s].ourPrice,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(O=a.carPart)&&void 0!==O&&null!==(R=O[s])&&void 0!==R&&R.ourPrice&&null!==(M=n.carPart)&&void 0!==M&&null!==(Y=M[s])&&void 0!==Y&&Y.ourPrice?null===(_=a.carPart[s])||void 0===_?void 0:_.ourPrice:""}),(0,w.jsx)(u.A,{required:!0,type:"date",label:"Delivery Date",onBlurHandle:t,onChangeHandle:v,placeholder:"Enter delivery date",name:"carPart.".concat(s,".deliveryDate"),value:l.carPart[s].deliveryDate,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(U=a.carPart)&&void 0!==U&&null!==(K=U[s])&&void 0!==K&&K.deliveryDate&&null!==($=n.carPart)&&void 0!==$&&null!==(Z=$[s])&&void 0!==Z&&Z.deliveryDate?null===(G=a.carPart[s])||void 0===G?void 0:G.deliveryDate:""}),(0,w.jsx)(x.A,{required:!0,label:"Select Status",placeholder:"Select status",Options:r.H5,name:"carPart.".concat(s,".status"),value:null===l||void 0===l||null===(L=l.carPart[s])||void 0===L?void 0:L.status,onChangeHandle:e=>h("carPart.".concat(s,".status"),e.target.value),error:null!==a&&void 0!==a&&null!==(Q=a.carPart)&&void 0!==Q&&null!==(X=Q[s])&&void 0!==X&&X.status&&null!==(J=n.carPart)&&void 0!==J&&null!==(W=J[s])&&void 0!==W&&W.status?null===(ee=a.carPart)||void 0===ee||null===(le=ee[s])||void 0===le?void 0:le.status:""}),(0,w.jsx)(u.A,{type:"text",label:"Notes",required:!1,placeholder:"Enter notes",onBlurHandle:t,onChangeHandle:v,name:"carPart.".concat(s,".notes"),value:l.carPart[s].notes,className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&null!==(ae=a.carPart)&&void 0!==ae&&null!==(re=ae[s])&&void 0!==re&&re.notes&&null!==(se=n.carPart)&&void 0!==se&&null!==(ne=se[s])&&void 0!==ne&&ne.notes?null===(te=a.carPart[s])||void 0===te?void 0:te.notes:""})]},s)})),l.carPart.length>0&&(0,w.jsx)(d.A,{type:"button",text:(0,w.jsxs)("span",{className:"flex gap-x-2",children:[(0,w.jsx)(o.t50,{size:18}),(0,w.jsx)("p",{className:"font-normal",children:" Add More Parts"})]}),handleOnClick:()=>{s({notes:"",price:"",status:"",quantity:"",ourPrice:"",supplier:"",partNumber:"",description:"",deliveryDate:""})},className:"font-semibold rounded-sm w-max"})]})}}),(0,w.jsx)("hr",{className:"text-gray-400 w-full col-span-1 md:col-span-2 lg:col-span-3 mt-4"}),(0,w.jsx)("p",{className:"font-semibold text-blue-600 col-span-1 md:col-span-2 lg:col-span-3 border-b border-blue-600 w-max",children:"Vehicle Status Information"}),(0,w.jsx)(u.A,{type:"date",required:"not in shop"!==(null===l||void 0===l?void 0:l.status.toLowerCase()),name:"deliveryDate",label:"Delivery Date",onBlurHandle:t,value:null===l||void 0===l?void 0:l.deliveryDate,onChangeHandle:v,placeholder:"Enter delivery date",className:"w-full mb-0 p-2 border rounded-md",error:null!==a&&void 0!==a&&a.deliveryDate&&null!==n&&void 0!==n&&n.deliveryDate?null===a||void 0===a?void 0:a.deliveryDate:""}),(0,w.jsx)(x.A,{name:"status",required:!0,label:"Select Status",value:null===l||void 0===l?void 0:l.status,placeholder:"Select status",Options:r.FV,error:null!==a&&void 0!==a&&a.status&&n.status?a.status:"",onChangeHandle:e=>h("status",e.target.value)}),(0,w.jsx)(u.A,{value:P,type:"text",disabled:!0,required:!1,name:"totalPrice",label:"Total Price",placeholder:"No Price Given",className:"w-full mb-0 p-2 border rounded-md"}),(0,w.jsx)("hr",{className:"text-gray-400 w-full mb-2 col-span-1 md:col-span-2 lg:col-span-3 mt-4"}),(0,w.jsx)("p",{className:"font-semibold text-blue-600 col-span-1 md:col-span-2 lg:col-span-3 border-b border-blue-600 w-max",children:"Assign Technicians"}),(0,w.jsx)(N.ED,{name:"TechnicianIds",children:e=>{let{push:r,remove:s}=e;return(0,w.jsxs)(w.Fragment,{children:[l.TechnicianIds.map(((e,r)=>{var o,i,d,c,u,m,p,b,y,f,N,j,P,D;return(0,w.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 grid md:gird-cols-2 lg:grid-cols-3 border border-blue-300 shadow-md rounded-sm gap-4 p-4 py-6 relative my-2",children:[(0,w.jsx)(g.j55,{size:28,onClick:()=>s(r),className:"hover:bg-stone-200 hover:text-red-600 rounded-md text-gray-600 p-1 absolute top-1 right-1 cursor-pointer"}),(0,w.jsx)(x.A,{Options:V.map((e=>({label:e.firstName+" "+e.lastName,value:e.id}))),required:!0,label:"Select Technician",placeholder:"Select technician",name:"TechnicianIds.".concat(r,".TechnicianId"),value:null===l||void 0===l||null===(o=l.TechnicianIds[r])||void 0===o?void 0:o.TechnicianId,onChangeHandle:e=>h("TechnicianIds.".concat(r,".TechnicianId"),e.target.value),error:null!==a&&void 0!==a&&null!==(i=a.TechnicianIds)&&void 0!==i&&null!==(d=i[r])&&void 0!==d&&d.TechnicianId&&null!==(c=n.TechnicianIds)&&void 0!==c&&null!==(u=c[r])&&void 0!==u&&u.TechnicianId?null===(m=a.TechnicianIds)||void 0===m||null===(p=m[r])||void 0===p?void 0:p.TechnicianId:""}),(0,w.jsx)(A,{required:!1,onBlur:t,mainClass:"mt-6 border border-gray-300 py-3 px-4 text-gray-900",onChange:v,label:"Notify Technician",name:"TechnicianIds.".concat(r,".isNotify"),checked:null===l||void 0===l||null===(b=l.TechnicianIds[r])||void 0===b?void 0:b.isNotify,error:null!==a&&void 0!==a&&null!==(y=a.TechnicianIds)&&void 0!==y&&null!==(f=y[r])&&void 0!==f&&f.isNotify&&null!==n&&void 0!==n&&null!==(N=n.TechnicianIds)&&void 0!==N&&null!==(j=N[r])&&void 0!==j&&j.isNotify?null===a||void 0===a||null===(P=a.TechnicianIds)||void 0===P||null===(D=P[r])||void 0===D?void 0:D.isNotify:""})]},r)})),(0,w.jsx)(d.A,{type:"button",text:(0,w.jsxs)("span",{className:"flex gap-x-2",children:[(0,w.jsx)(o.t50,{size:18}),(0,w.jsx)("p",{className:"font-normal",children:"Assign More Technicians"})]}),handleOnClick:()=>{r({TechnicianId:"",isNotify:!1})},className:"font-semibold rounded-sm w-max"}),(0,w.jsx)("hr",{className:"text-gray-400 w-full mb-2 col-span-1 md:col-span-2 lg:col-span-3 my-4"})]})}}),(0,w.jsx)(d.A,{type:"submit",text:(0,w.jsxs)("span",{className:"flex gap-x-2 justify-center items-center",children:[(0,w.jsx)(c.kGk,{size:16}),(0,w.jsx)("p",{className:"font-sembold",children:"SUBMIT"})]}),className:"font-semibold rounded-sm col-start-1 md:col-start-2 lg:col-start-3"})]})]})}})]})};var E=a(9588),I=a(6580);const V=()=>{var e;const l=(0,v.wA)(),a=(0,I.Zp)(),{status:h}=(0,I.g)(),b=(0,I.zy)(),[x,g]=(0,j.useState)(""),y=null===b||void 0===b||null===(e=b.state)||void 0===e?void 0:e.status,{user:f}=(0,v.d4)((e=>e.user)),[N,P]=(0,j.useState)(""),[A,C]=(0,j.useState)([]),[q,k]=(0,j.useState)(null),[S,V]=(0,j.useState)(!1),[H,B]=(0,j.useState)(!1);console.log("Status",h);const F=()=>{const e={apiEndpoint:h||y?"getVehiclesByStatus?status=".concat(y):r.Qv+"?vehiclePoNumber=".concat(N)};l((0,s.vD)(e)).then((e=>{var l,a,r;"getAllVehiclesByAdmin/fulfilled"===e.type&&C(null===e||void 0===e||null===(l=e.payload)||void 0===l||null===(a=l.data)||void 0===a||null===(r=a.vehicles)||void 0===r?void 0:r.rows)}))};(0,j.useEffect)((()=>{F()}),[N]);const z=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add";k(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null),g(e),B((e=>!e))},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;V((e=>!e)),k(e)},R=[{name:"Vehicle Make",selector:e=>e.make,sortable:!0},{name:"Vehicle Model",selector:e=>e.model,sortable:!0},{name:"Vehicle Year",selector:e=>e.year,sortable:!0},{name:"Delivery Date",selector:e=>{const l=(null===e||void 0===e?void 0:e.deliveryDate)&&new Date>new Date(null===e||void 0===e?void 0:e.deliveryDate);return(0,w.jsxs)("span",{className:"flex items-center gap-2 ".concat(l?"text-red-500":"text-gray-900"),children:[null!==e&&void 0!==e&&e.deliveryDate?(0,n.GP)(new Date(null===e||void 0===e?void 0:e.deliveryDate),"MM-dd-yyyy"):"--",l&&(0,w.jsx)("div",{className:"bg-red-200 rounded-full",children:(0,w.jsx)(c.eHT,{size:22,className:"text-red-500 !ml-1.5 mr-1 my-1"})})]})},sortable:!0},{name:"Technicians Count",selector:e=>e.TechnicianIds.length,sortable:!0},{name:"Parts Count",selector:e=>{var l;return(0,w.jsxs)("div",{className:"flex gap-4",children:[(0,w.jsx)("p",{children:null===e||void 0===e||null===(l=e.carPart)||void 0===l?void 0:l.length}),(0,w.jsx)(t.Ny1,{size:28,className:"hover:text-blue-600 hover:bg-blue-200 p-1 rounded-sm cursor-pointer",onClick:()=>{var l;a("/".concat(null===f||void 0===f||null===(l=f.role)||void 0===l?void 0:l.toLowerCase(),"/partsListing/").concat(null===e||void 0===e?void 0:e.vehicleId),{state:{vehicleDetails:e}})}})]})},sortable:!0},{name:"Status",selector:e=>{var l;return"Delivered"===e.status?(0,w.jsx)("div",{className:"border border-green-600 text-green-600 bg-green-200 rounded-sm px-2 py-1 text-center text-sm w-22",children:"Delivered"}):(0,w.jsx)("div",{className:"border border-gray-600 text-gray-600 bg-gray-300 rounded-sm px-2 py-1 text-center text-sm w-22",children:(null===(l=r.FV.find((l=>l.value===(null===e||void 0===e?void 0:e.status))))||void 0===l?void 0:l.label)||(null===e||void 0===e?void 0:e.status)})},sortable:!0},{name:"Action",selector:e=>(0,w.jsxs)("div",{className:"flex gap-2",children:[(0,w.jsx)(t.wwX,{size:34,className:" p-1.5 rounded-sm bg-blue-200 text-blue-600 cursor-pointer",onClick:()=>z(e,"edit")}),(0,w.jsx)(D.Kk3,{size:34,onClick:()=>O(e),className:" p-1.5 rounded-sm bg-red-200 text-red-600 cursor-pointer"})]})}];return(0,w.jsxs)("div",{className:"m-4 md:m-8 lg:mx-12",children:[(0,w.jsx)("h1",{className:"text-stone-900 font-semibold text-xl mb-4",children:"Vehicles"}),(0,w.jsxs)("div",{className:"border border-gray-300 rounded-sm shadow-md bg-white",children:[(0,w.jsxs)("div",{className:"flex justify-between p-6 items-center",children:[(0,w.jsxs)("h1",{className:"text-stone-900 font-semibold text-2xl mb-4 items-center flex gap-x-4",children:[(0,w.jsx)("p",{className:"text-blue-600",children:null===A||void 0===A?void 0:A.length}),y," Vehicles"]}),!h&&(0,w.jsx)(u.A,{type:"search",required:!1,mainClass:"w-max",value:N,placeholder:"Search by PO Number",className:" border rounded-sm !py-2",onChangeHandle:e=>P(e.target.value)}),(0,w.jsx)(d.A,{text:(0,w.jsxs)("span",{className:"flex gap-x-2",children:[(0,w.jsx)(o.t50,{size:24}),(0,w.jsx)("p",{children:" Add New Vehicle"})]}),className:"font-semibold rounded-sm flex justify-end w-max",handleOnClick:()=>z()})]}),(0,w.jsx)(i.A,{pagination:!0,selectableRows:!0,expandableRows:!0,allData:A,tableHeadings:R,ExpandedComponent:e=>(0,w.jsx)(E.A,{row:e})}),(0,w.jsx)(p.A,{buttonStyles:!0,cancelBtn:!1,heading:"add"===x?"Add New Vehicle":"Update Vehicle",isOpen:H,toggle:z,description:(0,w.jsx)(T,{mode:x,preFillingData:q,toggleAddCarModel:z,getAllVehiclesFunc:F}),icon:(0,w.jsx)("div",{className:"flex justify-center items-center bg-blue-200 rounded-full w-14 h-14",children:(0,w.jsx)(m.Kd4,{size:34,className:"text-blue-600"})}),modelSize:"w-full max-w-[80vw]  lg:max-w-[60vw]"}),(0,w.jsx)(p.A,{buttonFunc:()=>{(e=>{const a={apiEndpoint:r.aC+"?vehicleId=".concat(e)};l((0,s.Ye)(a)).then((e=>{"deleteVehicleByAdmin/fulfilled"===e.type&&F()}))})(null===q||void 0===q?void 0:q.vehicleId),O()},cancelBtn:!0,buttonText:"Delete",isOpen:S,toggle:O,cancleBtnStyles:"rounded-sm",buttonStyles:"border border-red-600 rounded-sm !text-red-600 !bg-red-100 font-semibold hover:!bg-red-200",heading:(0,w.jsx)("p",{className:"text-red-600",children:"Are you sure ?"}),description:(0,w.jsxs)("p",{children:["Are you sure you want to delete"," ",(0,w.jsx)("b",{children:(null===q||void 0===q?void 0:q.make)+" "+(null===q||void 0===q?void 0:q.model)+" "+(null===q||void 0===q?void 0:q.year)})," ",".This action can not be undo."]}),icon:(0,w.jsx)("div",{className:"flex justify-center items-center bg-red-200 rounded-full w-14 h-14",children:(0,w.jsx)(D.Kk3,{size:30,className:"text-red-600"})}),modelSize:"w-full max-w-96"})]})]})}},418:(e,l,a)=>{a.d(l,{A:()=>t});var r=a(5043),s=a(579);const n=e=>{const{text:l,className:a,handleOnClick:r,type:n="button",disabled:t=!1}=e;return(0,s.jsx)("button",{type:n,disabled:t,onClick:r,className:"bg-blue-600 text-white font-bold md:py-3 py-2 md:px-6 px-4 rounded-sm shadow-md\n         hover:bg-blue-800 disabled:bg-gray-400 disabled:cursor-not-allowed transition duration-300 ease-in-out ".concat(a," rounded-lg"),children:l})},t=(0,r.memo)(n)},1981:(e,l,a)=>{a.d(l,{A:()=>o});var r=a(2021),s=a(5043),n=a(579);const t=e=>{const{icon:l,toggle:a,heading:t,buttonText:o,buttonFunc:i,description:d,buttonStyles:c,isOpen:u=!1,cancleBtnStyles:m,cancelBtn:p=!1,modelSize:v="w-lg"}=e;return(0,s.useEffect)((()=>(document.body.style.overflow=u?"hidden":"",()=>{document.body.style.overflow=""})),[u]),u&&(0,n.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 w-full h-screen m-0 p-0",children:(0,n.jsxs)("div",{className:" ".concat(v," max-h-[90vh] overflow-y-auto rounded-xl p-1 bg-white relative border border-gray-400 m-4"),children:[(0,n.jsx)(r.j55,{size:32,onClick:a,className:"hover:bg-stone-200 hover:text-red-600 rounded-md text-gray-600 p-1 absolute top-1 right-1 cursor-pointer"}),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsxs)("div",{className:"flex justify-start space-x-6 items-center",children:[(0,n.jsxs)("div",{className:"text-start my-3",children:[" ",l]}),(0,n.jsx)("h4",{className:"text-2xl font-semibold text-start text-stone-800",children:t})]}),(0,n.jsx)("div",{className:"text-sm text-gray-500 mt-2",children:d}),(0,n.jsxs)("div",{className:"flex gap-2",children:[p&&(0,n.jsx)("button",{className:"border border-gray-400 hover:bg-gray-200 text-gray-700 text-sm py-2 px-4 rounded-md mt-4 ".concat(m),onClick:a,children:"Cancel"}),o&&(0,n.jsx)("button",{className:"text-white text-sm py-2 px-4 rounded-md mt-4 ".concat(c),onClick:i,children:o})]})]})]})})},o=(0,s.memo)(t)},9553:(e,l,a)=>{a.d(l,{A:()=>o});var r=a(5043),s=a(8786),n=a(579);const t=e=>{const{allData:l,totalRows:a,onChangePage:r,onRowClicked:t,tableHeadings:o,expandableRows:i,selectableRows:d,ExpandedComponent:c,clearSelectedRows:u,pagination:m=!1,onChangeRowsPerPage:p,selectableRowDisabled:v,handleSelectedRowsChange:h}=e,b=l,x=o;return(0,n.jsx)(s.Ay,{striped:!0,sortable:!0,responsive:!0,data:b,theme:"light",paginationServer:!0,highlightOnHover:!0,columns:x,pagination:m,customStyles:{header:{style:{fontSize:"14px"}},headCells:{style:{fontSize:"14px",color:"#666666"}},rows:{style:{padding:"10px 0px",fontSize:"16px",fontWeight:"400"}},tableWrapper:{style:{zIndex:1}}},onRowClicked:t,onChangePage:r,paginationTotalRows:a,selectableRows:d,expandableRows:i,onChangeRowsPerPage:p,expandableRowsComponent:c,selectableRowDisabled:v,onSelectedRowsChange:h,paginationRowsPerPageOptions:[10,20,30,50,75,100]})},o=(0,r.memo)(t)},4024:(e,l,a)=>{a.d(l,{A:()=>o});var r=a(5043),s=a(184),n=a(579);const t=e=>{const{name:l,value:a,error:r,label:t,Options:o,disabled:i,required:d,mainClass:c,className:u,labelClass:m,placeholder:p,onBlurHandle:v,optionsStyling:h,onChangeHandle:b,showPlaceholder:x=!0,placeholderDisabled:g=!0}=e;return(0,n.jsxs)("div",{className:"m-0 text-black ".concat(c),children:[(0,n.jsxs)("label",{className:"font-semibold flex gap-x-1 ".concat(m," "),children:[t," ",d&&(0,n.jsx)(s.Km,{size:8,className:"inline text-red-600 mb-2"})]}),(0,n.jsxs)("select",{className:"mt-1 border border-gray-300 p-3 pr-10 rounded-sm w-full transition-all hover:ring-[#0052DE] hover:ring-opacity-30 focus:outline-none focus:border-[#0052DE] focus:ring-[#0052DE] focus:ring-2 focus:ring-opacity-30 focus-visible:outline-none focus-visible:border-[#0052DE] focus-visible:ring-opacity-30 ".concat(u),name:l,value:a,disabled:i,onBlur:v,onChange:b,children:[x&&(0,n.jsx)("option",{value:"",disabled:g,children:p}),o&&(null===o||void 0===o?void 0:o.map(((e,l)=>(0,n.jsx)("option",{value:null===e||void 0===e?void 0:e.value,className:"text-black ".concat(h),children:e.label},l))))]}),r&&(0,n.jsx)("p",{className:"text-red-600 text-xs",children:r})]})},o=(0,r.memo)(t)},9588:(e,l,a)=>{a.d(l,{A:()=>d});var r=a(1535),s=a(5043),n=a(376),t=a(579);const o=function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.entries(e).filter((e=>{let[a]=e;return 0===l.length||l.includes(a)})).map((e=>{let[l,a]=e;return"object"===typeof a&&null!==a?(0,t.jsxs)("div",{className:"bg-gray-200 rounded-xl p-4 col-span-2 md:col-span-3 lg:col-span-5",children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs font-semibold mb-4",children:l.toUpperCase()}),Array.isArray(a)?a.map(((e,l)=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:" font-semibold text-sm text-blue-600",children:["Part ",l+1]}),(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-4 border border-gray-400 rounded-lg p-4",children:o(e)},l)]}))):o(a)]},l):(0,t.jsxs)("div",{className:"bg-gray-100 rounded-xl p-2",children:[(0,t.jsx)("p",{className:"text-gray-500 text-xs font-semibold",children:l.toUpperCase()}),(0,t.jsx)("p",{className:"text-gray-700 font-semibold",children:""===a||null===a?"--":"deliverydate"===l.toLowerCase()?(0,r.GP)(new Date(a),"MM-dd-yyyy"):a})]},l)}))},i=e=>{var l;let{row:a}=e;const{data:r={}}=a;return(0,t.jsx)("div",{className:"border border-gray-300 m-4 p-4 rounded-xl space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 my-3 bg-gray-100 rounded-xl p-4",children:[(null===r||void 0===r?void 0:r.make)&&(null===r||void 0===r?void 0:r.model)&&(null===r||void 0===r?void 0:r.year)&&(null===r||void 0===r?void 0:r.status)&&(0,t.jsxs)("div",{className:"col-span-2 md:col-span-3 lg:col-span-5",children:[(0,t.jsx)("h1",{className:"font-bold text-xl",children:(null===r||void 0===r?void 0:r.make)+" "+(null===r||void 0===r?void 0:r.model)+" - "+(null===r||void 0===r?void 0:r.year)}),(0,t.jsxs)("p",{className:"text-gray-600",children:["Status:"," ",(null===(l=n.FV.find((e=>e.value===(null===r||void 0===r?void 0:r.status))))||void 0===l?void 0:l.label)||(null===r||void 0===r?void 0:r.status)]})]}),o(r)]})})},d=(0,s.memo)(i)},79:(e,l,a)=>{a.d(l,{A:()=>i});var r=a(5043),s=a(184),n=a(6833),t=a(579);const o=e=>{const{icon:l,rows:a,type:o,name:i,label:d,error:c,value:u,style:m,disabled:p,required:v,mainClass:h,className:b,placeholder:x,ToolTipClass:g,onBlurHandle:y,onChangeHandle:f,handleKeyPress:N,ToolTipArrowClass:j,iconPosition:w="right"}=e,[P,A]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:" w-full ".concat(h),children:[(0,t.jsxs)("label",{htmlFor:"input",className:"font-semibold flex gap-x-1 text-stone-900",children:[d,v&&(0,t.jsx)(s.Km,{size:8,className:"inline text-red-600 mb-2"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{id:"input",type:"password"===o?P?"text":"password":o,rows:a,name:i,style:m,value:u,disabled:p,onBlur:y,placeholder:x,onChange:f,onKeyDown:N,min:"number"===o?0:"",step:"number"===o?"any":"",className:"mt-1 text-stone-900 rounded-sm w-full py-3 border border-gray-300 px-3 transition-all hover:ring-[#0052DE] hover:ring-opacity-30 focus:outline-none focus:border-[#0052DE] focus:ring-[#0052DE] focus:ring-2 focus:ring-opacity-30 focus-visible:outline-none focus-visible:border-[#0052DE] focus-visible:ring-opacity-30 \n          \n          ".concat("password"===o?"pr-14":""," ").concat(b," ").concat("number"===o?"appearance-none":"")}),"password"===o&&(0,t.jsx)("div",{onClick:()=>{A((e=>!e))},className:"absolute right-4 top-5 cursor-pointer",children:P?(0,t.jsx)(n.q6e,{className:"text-gray-600"}):(0,t.jsx)(n.iUt,{className:"text-gray-600"})}),l&&(0,t.jsx)("div",{className:"absolute cursor-pointer  ".concat("left"===w?"left-4 top-3.5":"right-4 top-5"),children:l})]}),c&&(0,t.jsx)("p",{className:"text-red-600 text-xs",children:c})]})},i=(0,r.memo)(o)},3710:(e,l,a)=>{a.d(l,{A:()=>d});a(5935);var r=a(184),s=a(7195),n=a.n(s),t=a(5043),o=a(579);const i=e=>{const{name:l,error:a,value:s,label:i,required:d,className:c,setFieldValue:u}=e,[m,p]=(0,t.useState)(s||"");(0,t.useEffect)((()=>{p(s||"")}),[s]);return(0,o.jsxs)("div",{className:"w-full m-0 ",children:[(0,o.jsxs)("label",{htmlFor:"input",className:"font-semibold mb-1 flex gap-x-1 text-stone-900",children:[i,d&&(0,o.jsx)(r.Km,{size:8,className:"inline text-red-600 mb-2"})]}),(0,o.jsx)(n(),{inputProps:{name:l,required:d,className:"py-3 w-full pl-12 rounded-sm transition-all hover:ring-[#0052DE] hover:ring-opacity-30 focus:outline-none focus:border-[#0052DE] focus:ring-[#0052DE] focus:ring-2 focus:ring-opacity-30 focus-visible:outline-none focus-visible:border-[#0052DE] focus-visible:ring-opacity-30 ".concat(c)},country:"us",onlyCountries:["us"],countryCodeEditable:!1,masks:{us:"... - ... - ...."},value:m,onChange:e=>{"1"===e?(p(""),u(l,"")):(p(e),u(l,e))},className:"mt-1 flex items-center w-full text-black custom-phone-input rounded-sm border border-gray-300 transition-all hover:ring-[#0052DE] hover:ring-opacity-30 focus:outline-none focus:border-[#0052DE] focus:ring-[#0052DE] focus:ring-2 focus:ring-opacity-30 focus-visible:outline-none focus-visible:border-[#0052DE] focus-visible:ring-opacity-30"}),a&&(0,o.jsx)("p",{className:"text-red-600 text-xs",children:a})]})},d=(0,t.memo)(i)},376:(e,l,a)=>{a.d(l,{$f:()=>f,FV:()=>P,H5:()=>A,Im:()=>n,K2:()=>t,Mx:()=>h,NM:()=>u,Qu:()=>j,Qv:()=>m,SX:()=>N,T3:()=>v,X1:()=>c,XP:()=>b,_3:()=>x,aC:()=>i,dU:()=>o,f4:()=>r,my:()=>y,nD:()=>w,nQ:()=>s,nd:()=>d,wg:()=>g,yG:()=>p});const r="/login",s="/verifyOtp",n="/dashboard",t="/resetPassword",o="/readpdffile",i="/deleteVehicle",d="/getReminder",c="/forgetPassword",u="/addCustomerVehicle",m="/getAllVehicle",p="/updateCustomerVehicle",v="/addTechnician",h="/deleteTechnician",b="/updateTechnician",x="/getAllTechnician",g="/updateReminderDays",y="/findVinNumber",f="/getAllDeliveredVehicle",N="getTechnicainVehicle",j=[{label:"Available",value:!0},{label:"Unavailable",value:!1}],w=()=>Array.from({length:10},((e,l)=>({label:"Before ".concat(l+1," days"),value:l+1}))),P=[{value:"Pending",label:"Pending"},{value:"InProgress",label:"In Progress"},{value:"Delivered",label:"Delivered"},{value:"NotInShop",label:"Not In Shop"}],A=[{value:"ReadyToOrder",label:"Ready To Order"},{value:"Ordered",label:"Ordered"},{value:"Delivered",label:"Delivered"}]},3533:(e,l,a)=>{a.d(l,{$U:()=>r,Ff:()=>c,Wc:()=>i,gx:()=>d,jP:()=>s,k0:()=>t,lJ:()=>o,pT:()=>n});const r={email:"",password:""},s={year:"",make:"",model:"",email:"",status:"",poNumber:"",lastName:"",firstName:"",deliveryDate:"",vehiclePoNumber:"",carPart:[{price:"",notes:"",status:"",ourPrice:"",quantity:"",supplier:"",partNumber:"",description:"",deliveryDate:""}],TechnicianIds:[{TechnicianId:"",isNotify:!1}]},n={email:"",password:"",lastName:"",firstName:"",phoneNumber:"",specialization:"",availability:!0,role:"Technician"},t={id:"",partsDeliveryAlertDays:"",vehicleDeliveryAlertDays:"",vehicleFollowUpNotificationDays:""},o={status:""},i={email:""},d={email:"",token:""},c={email:"",newPassword:""}},4663:(e,l,a)=>{a.d(l,{$Q:()=>g,Fo:()=>y,Ig:()=>P,JZ:()=>A,iE:()=>x,jA:()=>f,mc:()=>w,px:()=>j,vy:()=>N});var r=a(899);const s=r.Yj().min(2,"Name too short").max(40,"Name too long").required("Name required"),n=r.Yj().matches(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,"Invalid email").required("Email required"),t=r.Yj().min(8,"Password must be at least 8 characters containing uppercase, lowercase, number, and symbol.").max(40,"Password must be at most 40  characters long.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}[\]:;<>,.?~\\/-]).{8,40}$/,"Password must be at least 8 characters containing uppercase, lowercase, number, and symbol.").required("Password required"),o=r.Yj().matches(/^[0-9]{1,15}$/,"Phone number is not valid").required("Phone number is required"),i=r.Yj().required("Vehicle Number is required").max(8).min(4),d=r.Yj().required("Vehicle Model is required").max(40).min(2),c=r.Yj().required("Vehicle Year is required"),u=r.Yj().required("This field is required").min(1).max(28),m=r.Yj().required("This field is required").min(1).max(40),p=r.Yj().required("Description is required").min(1).max(200),v=r.Yj().max("300").nullable(),h=r.Yj().min(1).max(40).nullable(),b=r.zM().required("This field is required"),x=r.Yj().min(8,"Password must be at least 8 characters containing uppercase, lowercase, number, and symbol.").max(40,"Password must be at most 40  characters long.").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}[\]:;<>,.?~\\/-]).{8,40}$/,"Password must be at least 8 characters containing uppercase, lowercase, number, and symbol."),g=r.Ik().shape({email:n,password:s}),y=r.Ik().shape({year:c,make:i,model:d,email:n,lastName:s,firstName:s,poNumber:o,status:m,deliveryDate:h,vehiclePoNumber:h,carPart:r.YO().of(r.Ik().shape({price:h,ourPrice:h,supplier:h,status:m,quantity:u,description:p,partNumber:u,deliveryDate:m,notes:v})),TechnicianIds:r.YO().of(r.Ik().shape({isNotify:b,TechnicianId:u}))}),f=r.Ik().shape({email:n,lastName:s,firstName:s,role:m,phoneNumber:o,password:t,specialization:m,availability:b}),N=r.Ik().shape({id:r.Yj(),partsDeliveryAlertDays:m,vehicleDeliveryAlertDays:m,vehicleFollowUpNotificationDays:m}),j=r.Ik().shape({status:m}),w=r.Ik().shape({email:n}),P=r.Ik().shape({email:n,token:u}),A=r.Ik().shape({email:n,newPassword:t})}}]);
//# sourceMappingURL=533.d02eb461.chunk.js.map